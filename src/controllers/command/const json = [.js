const json = [
    {
        "lopHocPhan": "An toàn thông tin-2-23 (K21C.KTPM.D1.K2.N03)",
        "hocPhan": "SFI331",
        "giangVien": "Lê Hoàng Hiệp ( Mã Meet: uik-nzjy-bxe link: https://meet.google.com/uik-nzjy-bxe )",
        "soTC": "3",
        "lichHoc": {
            "(1)": {
                "startDate": "04/12/2023",
                "endDate": "28/01/2024",
                "date": {
                    "Thứ 5": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.104 C5 "
            },
            "(2)": {
                "startDate": "19/02/2024",
                "endDate": "25/02/2024",
                "date": {
                    "Thứ 4": "4,5 (LT)"
                },
                "diaDiem": "C5.503 C5"
            }
        }
    },
    {
        "lopHocPhan": "Anh văn 4-2-23 (K21C.KTPM.D1.K2.N03)",
        "hocPhan": "ENG135",
        "giangVien": "Nguyễn Thùy Linh ( Mã Meet: tey-ysqt-obj link: https://meet.google.com/tey-ysqt-obj )",
        "soTC": "3",
        "lichHoc": {
            "(1)": {
                "startDate": "04/12/2023",
                "endDate": "10/12/2023",
                "date": {
                    "Thứ 3": "3,4,5 (LT)"
                },
                "diaDiem": "C5.206 C5 "
            },
            "(2)": {
                "startDate": "11/12/2023",
                "endDate": "17/12/2023",
                "date": {
                    "Thứ 3": "3,4,5 (LT)"
                },
                "diaDiem": "C5.206 C5 "
            },
            "(3)": {
                "startDate": "18/12/2023",
                "endDate": "20/01/2024",
                "date": {
                    "Thứ 6": "7,8 (LT)"
                },
                "diaDiem": "C5.205 C5 "
            },
            "(4)": {
                "startDate": "18/12/2023",
                "endDate": "28/01/2024",
                "date": {
                    "Thứ 3": "3,4,5 (LT)"
                },
                "diaDiem": "C5.206 C5 "
            },
            "(5)": {
                "startDate": "19/02/2024",
                "endDate": "24/02/2024",
                "date": {
                    "Thứ 3": "3,4,5 (LT)"
                },
                "diaDiem": "C5.503 C5"
            }
        }
    },
    {
        "lopHocPhan": "Lịch sử Đảng Cộng sản Việt Nam-2-23 (K21ABC.KTPM_R.CNTT_KHMT.D1.K2.N04)",
        "hocPhan": "PHV121",
        "giangVien": "Đỗ Quỳnh Hoa ( Mã Meet: vpd-qfbh-jxu link: meet.google.com/vpd-qfbh-jxu )",
        "soTC": "2",
        "lichHoc": {
            "(1)": {
                "startDate": "04/12/2023",
                "endDate": "27/01/2024",
                "date": {
                    "Thứ 6": "2,3,4,5 (LT)"
                },
                "diaDiem": "Online 26 Giảng đường online "
            },
            "(2)": {
                "startDate": "19/02/2024",
                "endDate": "24/02/2024",
                "date": {
                    "Thứ 6": "2,3,4,5 (LT)"
                },
                "diaDiem": "Online 28 Giảng đường online"
            }
        }
    },
    {
        "lopHocPhan": "Nhập môn công nghệ phần mềm-2-23 (K21C.KTPM.D1.K2.N03)",
        "hocPhan": "ISE131",
        "giangVien": "Nguyễn Thị Tính ( Mã Meet: awy-fxqe-yqe link: meet.google.com/awy-fxqe-yqe )",
        "soTC": "3",
        "lichHoc": {
            "(1)": {
                "startDate": "04/12/2023",
                "endDate": "27/01/2024",
                "date": {
                    "Thứ 7": "3,4,5 (LT)"
                },
                "diaDiem": "C5.304 C5 "
            },
            "(2)": {
                "startDate": "18/12/2023",
                "endDate": "20/01/2024",
                "date": {
                    "Thứ 4": "4,5 (LT)"
                },
                "diaDiem": "C5.206 C5"
            },
            "(3)": {
                "startDate": "19/02/2024",
                "endDate": "24/02/2024",
                "date": {
                    "Chủ nhật": "3,4,5 (LT)"
                },
                "diaDiem": "C5.304 C5 "
            }
        }
    },
    {
        "lopHocPhan": "Phân tích thiết kế hệ thống-2-23 (K21C.KTPM.D1.K2.N03)",
        "hocPhan": "ASD232",
        "giangVien": "Nguyễn Kim Sơn ( Mã Meet: bss-ndjb-mrn link: https://meet.google.com/bss-ndjb-mrn )",
        "soTC": "3",
        "lichHoc": {
            "(1)": {
                "startDate": "04/12/2023",
                "endDate": "10/12/2023",
                "date": {
                    "Thứ 2": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.302 C5 "
            },
            "(2)": {
                "startDate": "11/12/2023",
                "endDate": "31/12/2023",
                "date": {
                    "Thứ 2": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.303 C5 "
            },
            "(3)": {
                "startDate": "01/01/2024",
                "endDate": "07/01/2024",
                "date": {
                    "Chủ nhật": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.206 C5 "
            },
            "(4)": {
                "startDate": "08/01/2024",
                "endDate": "14/01/2024",
                "date": {
                    "Thứ 2": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.303 C5 "
            },
            "(5)": {
                "startDate": "15/01/2024",
                "endDate": "28/01/2024",
                "date": {
                    "Thứ 2": "2,3,4,5 (LT)"
                },
                "diaDiem": "C5.206 C5 "
            },
            "(6)": {
                "startDate": "19/02/2024",
                "endDate": "25/02/2024",
                "date": {
                    "Thứ 4": "2,3 (LT)"
                },
                "diaDiem": "C5.503 C5"
            }
        }
    }
]
const results = {};
const thuTrongTuan = {
    1: "Thứ 2",
    2: "Thứ 3",
    3: "Thứ 4",
    4: "Thứ 5",
    5: "Thứ 6",
    6: "Thứ 7",
    0: "Chủ nhật",
};

function convertStringDate(string) {
    const [day, month, year] = string.split('/');
    return [month, day, year].join('/');
}

function getDate(results, data) {
    data.forEach((objData) => {
        for (const tuan in objData.lichHoc) {
            const dateStart = new Date(convertStringDate(objData.lichHoc[tuan].startDate));
            const dateEnd = new Date(convertStringDate(objData.lichHoc[tuan].endDate));
            dateEnd.setHours(23);

            for (const date in objData.lichHoc[tuan].date) {
                while (dateStart < dateEnd) {
                    const currentDay = dateStart.getDay();
                    const time = `${dateStart.getDate() + 1}/${dateStart.getMonth() + 1}/${dateStart.getFullYear()}`;
                    const thu = thuTrongTuan[currentDay];

                    if (date == thu) {
                        results[time] = results[time] || {};
                        results[time] = results[time] || {};
                        results[time][objData.lichHoc[tuan].date[date]] = {
                            lopHocPhan: objData.lopHocPhan,
                            giangVien: objData.giangVien,
                            diaDiem: objData.lichHoc[tuan].diaDiem
                        };
                    }

                    dateStart.setDate(dateStart.getDate() + 1);
                }
            }
        }
    });
}

getDate(results, json);

let a = new Date()
a.setDate(1)
console.log(a.getDay());
let currentDate = new Date()
const data = {}
// results


for (const data in results) {

    for (const tiet in results[data]) {
        if (results[data][tiet].lopHocPhan.includes('phần mềm')) {
            console.log(data, results[data]);
        }
    }
}